---
description: Git feature branch workflow - commit, merge, deploy
alwaysApply: true
---

# Git Feature Branch Workflow

When the user says **"merge feature"** or **"commit and merge"**:

1. **Check status**: `git status && git diff --stat`
2. **Commit changes** with descriptive message:
   ```bash
   git add . && git commit -m "Feature description"
   ```
3. **Merge to main**:
   ```bash
   git checkout main && git merge <branch> --no-edit
   ```

When user says **"deploy"**, **"push and deploy"** or **"deploy to prod"**:

1. **Verify branch**: Must be on `main`
2. **Check for uncommitted changes**: `git status`
3. **Push to origin**:
   ```bash
   git push origin main
   ```
4. **Confirm**: Netlify auto-deploys on push to main

> If not on main, warn the user and abort.

When user says **"preview"** or **"deploy preview"**:

1. **Build the project**:
   ```bash
   npm run build
   ```
2. **Deploy to Netlify (preview URL)**:
   ```bash
   netlify deploy --dir=dist
   ```
3. **Share the temporary URL** with the user

When user says **"netlify prod"** or **"deploy netlify"**:

1. **Build the project**:
   ```bash
   npm run build
   ```
2. **Deploy to Netlify production**:
   ```bash
   netlify deploy --dir=dist --prod
   ```
3. **Share the production URL** with the user

When user says **"new branch for X"** or **"checkout to feature X"**:

```bash
git checkout -b feature/<kebab-case-name>
```

## Branch Naming

- `feature/` - new features
- `fix/` - bug fixes
- `refactor/` - code improvements

## Commit Message Format

```
<type>: <short description>

- Detail 1
- Detail 2
```

Types: `Add`, `Update`, `Fix`, `Refactor`, `Remove`
