---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { content } from "../../data/mock/content";

// Filtrar podcasts por canal
const allPodcasts = content.filter((item) => item.type === "PODCAST");

const santakoPodcasts = allPodcasts
  .filter((p) => p.data.youtube?.channel?.includes("santakomusic"))
  .sort((a, b) => ((a.data.date ?? "") < (b.data.date ?? "") ? 1 : -1));

const clandestinoPodcasts = allPodcasts
  .filter((p) => p.data.youtube?.channel?.includes("Clavoardiendo"))
  .sort((a, b) => ((a.data.date ?? "") < (b.data.date ?? "") ? 1 : -1));
---

<BaseLayout title="Podcasts · Santako Music">
  <section id="podcast-archive" class="section-podcast px-6 md:px-12 xl:px-24 py-24">
    <div class="max-w-6xl mx-auto">
      
      <!-- PODCAST SANTAKO -->
      <div class="mb-24">
        <h1 class="font-heading text-5xl mb-6">Podcast Santako</h1>
        <p class="max-w-2xl text-lg opacity-80 mb-6">
          El podcast oficial de Santako Music. Sesiones mensuales grabadas en vídeo donde 
          conversamos con artistas y agentes culturales de la escena local.
        </p>
        <a
          href="https://www.youtube.com/@santakomusic"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 text-sm uppercase tracking-widest hover:opacity-70 transition"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          Ver canal en YouTube
        </a>

        <!-- Grid con miniaturas -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12">
          {santakoPodcasts.map((podcast) => (
            <a 
              href={`/podcast/${podcast.data.slug}`}
              class="group block bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition"
            >
              <div class="aspect-video bg-gray-100 overflow-hidden">
                <img 
                  src={podcast.data.images?.[0] || "/images/eventos/podcast-live-1.jpg"} 
                  alt={podcast.data.title}
                  class="w-full h-full object-cover group-hover:scale-105 transition duration-300"
                  loading="lazy"
                />
              </div>
              <div class="p-4">
                <h3 class="font-medium text-lg group-hover:opacity-70 transition">
                  {podcast.data.title}
                </h3>
                <span class="text-sm opacity-60">{podcast.data.date}</span>
              </div>
            </a>
          ))}
        </div>
      </div>

      <!-- CLANDESTINO CLUB SOCIAL -->
      <div>
        <h2 class="font-heading text-4xl mb-6">Clandestino Club Social</h2>
        <p class="max-w-2xl text-lg opacity-80 mb-6">
          Podcast de Marko Fontana donde da cabida a lo que no tiene cabida en el circuito oficial. 
          Hip hop, música negra, soul y conversaciones con veteranos de la escena underground.
        </p>
        <a
          href="https://www.youtube.com/@Clavoardiendovideo"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 text-sm uppercase tracking-widest hover:opacity-70 transition"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
          </svg>
          Ver canal Clave Ardiendo
        </a>

        <!-- Lista simple -->
        <ul class="mt-12 space-y-6">
          {clandestinoPodcasts.map((podcast) => (
            <li class="border-b border-black/10 pb-6">
              <a 
                href={`/podcast/${podcast.data.slug}`}
                class="block hover:opacity-70 transition"
              >
                <h3 class="text-xl font-medium">{podcast.data.title}</h3>
                <span class="text-sm opacity-60">{podcast.data.date}</span>
                {podcast.data.description && (
                  <p class="mt-2 text-sm opacity-70 max-w-2xl">{podcast.data.description}</p>
                )}
              </a>
            </li>
          ))}
        </ul>
      </div>

    </div>
  </section>
</BaseLayout>
