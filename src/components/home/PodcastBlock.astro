---
import { content } from "../../data/mock/content";

/**
 * ÚLTIMA SESIÓN DE PODCAST (por fecha)
 */
const podcast = content
  .filter((item) => item.type === "PODCAST")
  .sort((a, b) => (a.data.date < b.data.date ? 1 : -1))[0];
---

{podcast && (
  <section id="podcast" class="section-podcast px-6 md:px-12 xl:px-24 py-24 text-white" style="background-color: var(--color-bg-podcast);">
    <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center">

      <!-- VÍDEO / IMAGEN -->
      <div class="relative aspect-video bg-black">
        {podcast.data.youtube?.videoUrl ? (
          <iframe
            src={podcast.data.youtube.videoUrl.replace("watch?v=", "embed/")}
            class="absolute inset-0 w-full h-full"
            allowfullscreen
          ></iframe>
        ) : (
          podcast.data.images?.[0] && (
            <img
              src={podcast.data.images[0]}
              alt={podcast.data.title}
              class="absolute inset-0 w-full h-full object-cover opacity-80"
            />
          )
        )}
      </div>

      <!-- TEXTO -->
      <div>
        <span class="text-xs uppercase tracking-widest text-[--color-accent-live]">
          Podcast Santako · Sesión mensual
        </span>

        <h2 class="font-heading text-4xl mt-4 mb-6">
          {podcast.data.title}
        </h2>

        <p class="opacity-80 max-w-md mb-8">
          {podcast.data.description}
        </p>

        <a
          href={`/podcast/${podcast.data.slug}`}
          class="underline uppercase tracking-widest text-sm"
        >
          Ver sesión
        </a>
      </div>

    </div>
  </section>
)}
